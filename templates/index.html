{% extends "base.html" %}

{% block title %}Search for a Card{% endblock %}

{% block content %}
<div class="p-4 p-md-5 mb-4 rounded-3 bg-body-tertiary">
  <div class="container-fluid">
    <h1 class="display-5 fw-bold">Magic Card Search</h1>
    <p class="col-md-8 fs-4">Enter a card name to search the Scryfall database.</p>
    
    <form action="{{ url_for('search') }}" method="POST" class="row g-3 align-items-end" autocomplete="off">
      <div class="col-md-6 suggestions-container">
        <label for="card_name" class="form-label">Card Name</label>
        <input type="text" name="search_query" id="card_name" class="form-control form-control-lg" placeholder="e.g., Sol Ring" required autofocus autocomplete="off">
        <div id="suggestions-panel" class="list-group w-100" style="z-index: 1000;">
        </div>
      </div>
      <div class="col-md-4">
        <label for="card_type" class="form-label">Card Type</label>
        <select name="card_type" id="card_type" class="form-select form-select-lg">
          <option value="" selected>Any Type</option>
          <option value="creature">Creature</option>
          <option value="instant">Instant</option>
          <option value="sorcery">Sorcery</option>
          <option value="artifact">Artifact</option>
          <option value="enchantment">Enchantment</option>
          <option value="land">Land</option>
          <option value="planeswalker">Planeswalker</option>
        </select>
      </div>
      <div class="col-md-2">
        <button class="btn btn-primary btn-lg w-100" type="submit">Search</button>
        </div>
    </form>
  </div>
</div>
{% endblock %}

{% block scripts %}
<!-- Load the dedicated autocomplete script -->
<script src="{{ url_for('static', filename='js/autocomplete.js') }}" defer></script>
{% endblock %}