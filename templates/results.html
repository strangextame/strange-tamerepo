{% extends "base.html" %}

{% block title %}Results for "{{ search_term }}"{% endblock %}

{% block content %}
<a href="/" class="btn btn-outline-secondary mb-4">&larr; New Search</a>
<h2 class="mb-4">Results for "{{ search_term }}"</h2>

<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
  {% for card in cards %}
  <div class="col">
    <div class="card shadow-sm h-100">
      {% if card.image_uris and card.image_uris.normal %}
        <img src="{{ card.image_uris.normal }}" class="card-img-top" alt="{{ card.name }}">
      {% else %}
        {# Placeholder for cards without images, like double-faced card backs #}
        <svg class="bd-placeholder-img card-img-top" width="100%" height="320" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: No image" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef" dy=".3em">No image</text></svg>
      {% endif %}
      <div class="card-body d-flex flex-column">
        <h5 class="card-title">{{ card.name }}</h5>
        <p class="card-text text-body-secondary">{{ card.type_line }}</p>
        <div class="mt-auto pt-2">
          {% if card.related_uris and card.related_uris.edhrec %}
            <a href="{{ card.related_uris.edhrec }}" target="_blank" rel="noopener noreferrer" class="btn btn-sm btn-outline-info w-100">View on EDHREC</a>
          {% endif %}
          </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}